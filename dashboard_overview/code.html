<!DOCTYPE html>
<html class="dark" lang="de">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>DHubBW Dashboard</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&amp;display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              // DHBW Color Palette
              "dhbw-bg": "#121315",
              "dhbw-panel": "#1A1C1F",
              "dhbw-border": "#2A2D31",
              "dhbw-red": "#C8102E",
              "dhbw-red-muted": "#992029",
              "dhbw-text-primary": "#F2F2F5",
              "dhbw-text-secondary": "#A8ADB5",
              "dhbw-icon": "#5C6068",
              "dhbw-focus": "#26292D",
              "dhbw-success": "#3EA05B",
              "dhbw-warning": "#EBCB70",
              "dhbw-error": "#E03140",
            },
            fontFamily: {
              display: ["Inter", "Roboto", "sans-serif"],
            },
            borderRadius: {
              DEFAULT: "0.25rem",
              lg: "0.5rem",
              xl: "0.75rem",
              full: "9999px",
            },
          },
        },
      };
    </script>
    <style>
      .material-symbols-outlined {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
      }
      body {
        min-height: max(884px, 100dvh);
      }
    </style>
    <style>
      body {
        min-height: max(884px, 100dvh);
      }
    </style>
  </head>
  <body class="bg-dhbw-bg font-display text-dhbw-text-primary">
    <div class="relative flex h-auto min-h-screen w-full flex-col">
      <main class="flex-1 p-4 sm:p-6 lg:p-8">
        <h1
          class="text-dhbw-text-primary tracking-light text-2xl font-bold leading-tight pb-4"
        >
          Mein Arbeitsbereich
        </h1>
        <div
          class="w-full bg-dhbw-panel border border-dhbw-border rounded-lg mb-6 @container cursor-pointer hover:border-dhbw-red/60 transition-colors"
          onclick="parent?.showPage && parent.showPage('calendar')"
          title="Zum Kalender"
        >
          <div
            class="flex flex-col @2xl:flex-row divide-y @2xl:divide-y-0 @2xl:divide-x divide-dhbw-border"
          >
            <div class="flex-1 p-4">
              <p
                class="text-dhbw-text-primary text-base font-bold leading-tight mb-3"
              >
                Heutiger Zeitplan
              </p>
              <div class="space-y-3">
                <div class="flex items-start gap-3">
                  <span
                    class="material-symbols-outlined text-dhbw-red mt-0.5 text-lg"
                    >schedule</span
                  >
                  <div class="flex-1">
                    <p class="text-dhbw-text-primary font-medium text-sm">
                      Software Engineering II
                    </p>
                    <p class="text-dhbw-text-secondary text-xs">
                      09:45 - 13:00 | Raum C.213
                    </p>
                  </div>
                </div>
                <div class="flex items-start gap-3">
                  <span
                    class="material-symbols-outlined text-dhbw-red mt-0.5 text-lg"
                    >schedule</span
                  >
                  <div class="flex-1">
                    <p class="text-dhbw-text-primary font-medium text-sm">
                      Advanced Databases
                    </p>
                    <p class="text-dhbw-text-secondary text-xs">
                      14:00 - 17:15 | Raum A.101
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex-1 p-4">
              <p
                class="text-dhbw-text-primary text-base font-bold leading-tight mb-3"
              >
                Fällig in 48 Stunden
              </p>
              <div class="space-y-3">
                <div class="flex items-start gap-3">
                  <span
                    class="material-symbols-outlined text-dhbw-warning mt-0.5 text-lg"
                    >task_alt</span
                  >
                  <div class="flex-1">
                    <p class="text-dhbw-text-primary font-medium text-sm">
                      SWE II - Projekt Meilenstein 2
                    </p>
                    <p class="text-dhbw-text-secondary text-xs">
                      Fällig morgen, 23:59
                    </p>
                  </div>
                </div>
                <div class="flex items-start gap-3">
                  <span
                    class="material-symbols-outlined text-dhbw-warning mt-0.5 text-lg"
                    >task_alt</span
                  >
                  <div class="flex-1">
                    <p class="text-dhbw-text-primary font-medium text-sm">
                      DB - Aufgabe 4
                    </p>
                    <p class="text-dhbw-text-secondary text-xs">
                      Fällig in 2 Tagen
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Widgets Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <!-- Calendar & Files (Left Column) -->
          <div class="lg:col-span-2 space-y-6">
            <!-- Calendar Widget -->
            <div
              class="bg-dhbw-panel p-4 rounded-lg border border-dhbw-border cursor-pointer hover:border-dhbw-red/60 transition-colors"
              onclick="parent?.showPage && parent.showPage('calendar')"
              title="Kalender öffnen"
            >
              <div class="flex justify-between items-center mb-4">
                <h3 class="text-base font-bold text-dhbw-text-primary">
                  Mein Kalender
                </h3>
                <button class="text-xs text-dhbw-red hover:underline">
                  Alle ansehen
                </button>
              </div>
              <div
                class="flex justify-between items-center pb-3 border-b border-dhbw-border"
              >
                <button class="hover:bg-dhbw-focus rounded-full p-1">
                  <span class="material-symbols-outlined text-dhbw-icon"
                    >chevron_left</span
                  >
                </button>
                <div
                  class="flex items-center gap-4 sm:gap-6 overflow-x-auto py-2"
                >
                  <div class="text-center shrink-0">
                    <p class="text-xs text-dhbw-text-secondary">MO</p>
                    <p class="font-bold text-base text-dhbw-text-primary">13</p>
                  </div>
                  <div
                    class="text-center shrink-0 bg-dhbw-red/20 rounded-lg p-2"
                  >
                    <p class="text-xs text-dhbw-red">DI</p>
                    <p class="font-bold text-base text-dhbw-text-primary">14</p>
                    <div
                      class="h-1 w-1 bg-dhbw-warning rounded-full mx-auto mt-1"
                    ></div>
                  </div>
                  <div class="text-center shrink-0">
                    <p class="text-xs text-dhbw-text-secondary">MI</p>
                    <p class="font-bold text-base text-dhbw-text-primary">15</p>
                  </div>
                  <div class="text-center shrink-0">
                    <p class="text-xs text-dhbw-text-secondary">DO</p>
                    <p class="font-bold text-base text-dhbw-text-primary">16</p>
                  </div>
                  <div class="text-center shrink-0">
                    <p class="text-xs text-dhbw-text-secondary">FR</p>
                    <p class="font-bold text-base text-dhbw-text-primary">17</p>
                  </div>
                  <div class="text-center shrink-0">
                    <p class="text-xs text-dhbw-text-secondary">SA</p>
                    <p class="font-bold text-base text-dhbw-text-primary">18</p>
                  </div>
                  <div class="text-center shrink-0">
                    <p class="text-xs text-dhbw-text-secondary">SO</p>
                    <p class="font-bold text-base text-dhbw-text-primary">19</p>
                  </div>
                </div>
                <button class="hover:bg-dhbw-focus rounded-full p-1">
                  <span class="material-symbols-outlined text-dhbw-icon"
                    >chevron_right</span
                  >
                </button>
              </div>
              <div class="pt-3 space-y-2">
                <p class="text-xs font-medium text-dhbw-text-secondary">
                  Dienstag, 14. Mai
                </p>
                <div class="flex items-center gap-2">
                  <div class="w-1 h-6 bg-dhbw-warning rounded-full"></div>
                  <div>
                    <p class="text-dhbw-text-primary text-sm">
                      SWE II - Projekt Meilenstein 2
                    </p>
                    <p class="text-dhbw-text-secondary text-xs">
                      Fällig um 23:59
                    </p>
                  </div>
                </div>
                <div class="flex items-center gap-2">
                  <div class="w-1 h-6 bg-[#8B5CF6] rounded-full"></div>
                  <div>
                    <p class="text-dhbw-text-primary text-sm">
                      Gruppentreffen: Abschlussprojekt
                    </p>
                    <p class="text-dhbw-text-secondary text-xs">
                      18:00 - 19:00
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <!-- Recent Files Widget -->
            <div
              class="bg-dhbw-panel p-4 rounded-lg border border-dhbw-border cursor-pointer hover:border-dhbw-red/60 transition-colors"
              onclick="parent?.showPage && parent.showPage('files')"
              title="Dateien öffnen"
            >
              <div class="flex justify-between items-center mb-3">
                <h3 class="text-base font-bold text-dhbw-text-primary">
                  Neueste Dateien
                </h3>
                <button class="text-xs text-dhbw-red hover:underline">
                  Alle ansehen
                </button>
              </div>
              <ul class="space-y-2">
                <li
                  class="flex items-center gap-3 p-2 hover:bg-dhbw-focus rounded-lg cursor-pointer"
                >
                  <span
                    class="material-symbols-outlined text-dhbw-error text-2xl"
                    >picture_as_pdf</span
                  >
                  <div class="flex-1">
                    <p class="text-dhbw-text-primary text-sm">
                      Requirements_Spec_Final.pdf
                    </p>
                    <div class="flex items-center gap-2 mt-1">
                      <span
                        class="px-2 py-0.5 text-xs font-medium rounded-full bg-blue-500/20 text-blue-300"
                        >SWE II</span
                      >
                      <span
                        class="px-2 py-0.5 text-xs font-medium rounded-full bg-green-500/20 text-green-300"
                        >v3.1</span
                      >
                    </div>
                  </div>
                  <span class="text-xs text-dhbw-text-secondary">vor 2h</span>
                </li>
                <li
                  class="flex items-center gap-3 p-2 hover:bg-dhbw-focus rounded-lg cursor-pointer"
                >
                  <span
                    class="material-symbols-outlined text-[#60A5FA] text-2xl"
                    >description</span
                  >
                  <div class="flex-1">
                    <p class="text-dhbw-text-primary text-sm">
                      ER_Diagram_Notes.docx
                    </p>
                    <div class="flex items-center gap-2 mt-1">
                      <span
                        class="px-2 py-0.5 text-xs font-medium rounded-full bg-purple-500/20 text-purple-300"
                        >Databases</span
                      >
                    </div>
                  </div>
                  <span class="text-xs text-dhbw-text-secondary">Gestern</span>
                </li>
                <li
                  class="flex items-center gap-3 p-2 hover:bg-dhbw-focus rounded-lg cursor-pointer"
                >
                  <span
                    class="material-symbols-outlined text-dhbw-warning text-2xl"
                    >slideshow</span
                  >
                  <div class="flex-1">
                    <p class="text-dhbw-text-primary text-sm">
                      Lecture_08_Security.pptx
                    </p>
                    <div class="flex items-center gap-2 mt-1">
                      <span
                        class="px-2 py-0.5 text-xs font-medium rounded-full bg-blue-500/20 text-blue-300"
                        >SWE II</span
                      >
                      <span
                        class="px-2 py-0.5 text-xs font-medium rounded-full bg-green-500/20 text-green-300"
                        >v1.0</span
                      >
                    </div>
                  </div>
                  <span class="text-xs text-dhbw-text-secondary">10. Mai</span>
                </li>
              </ul>
            </div>
          </div>
          <!-- Right Column -->
          <div class="lg:col-span-1 space-y-6">
            <!-- Mensa Widget -->
            <div
              class="bg-dhbw-panel p-4 rounded-lg border border-dhbw-border cursor-pointer hover:border-dhbw-red/60 transition-colors"
              onclick="parent?.showPage && parent.showPage('mensa')"
              title="Mensa öffnen"
            >
              <div class="flex justify-between items-center mb-3">
                <h3 class="text-base font-bold text-dhbw-text-primary">
                  Mensa Heute
                </h3>
                <div
                  class="flex items-center bg-dhbw-bg rounded-full p-0.5 text-xs border border-dhbw-border"
                >
                  <button data-day="heute" aria-pressed="true"
                    class="mensa-mini-day px-2 py-1 rounded-full bg-dhbw-red text-dhbw-text-primary"
                  >
                    Heute
                  </button>
                  <button data-day="mi" aria-pressed="false"
                    class="mensa-mini-day px-2 py-1 rounded-full text-dhbw-text-secondary hover:bg-dhbw-focus"
                  >
                    Mi
                  </button>
                  <button data-day="do" aria-pressed="false"
                    class="mensa-mini-day px-2 py-1 rounded-full text-dhbw-text-secondary hover:bg-dhbw-focus"
                  >
                    Do
                  </button>
                </div>
              </div>
              <div id="mensa-widget-list" class="space-y-2">
                <div class="flex justify-between items-center">
                  <div>
                    <p class="text-dhbw-text-primary text-sm">
                      Schnitzel "Wiener Art"
                    </p>
                    <p class="text-dhbw-text-secondary text-xs">mit Pommes</p>
                  </div>
                  <p class="text-dhbw-text-primary font-medium text-sm">
                    €5.20
                  </p>
                </div>
                <div class="flex justify-between items-center">
                  <div>
                    <p class="text-dhbw-text-primary text-sm">Pasta al Pesto</p>
                    <p class="text-dhbw-text-secondary text-xs">Vegan</p>
                  </div>
                  <p class="text-dhbw-text-primary font-medium text-sm">
                    €4.50
                  </p>
                </div>
                <div class="flex justify-between items-center">
                  <div>
                    <p class="text-dhbw-text-primary text-sm">Currywurst</p>
                    <p class="text-dhbw-text-secondary text-xs">mit Brot</p>
                  </div>
                  <p class="text-dhbw-text-primary font-medium text-sm">
                    €3.80
                  </p>
                </div>
              </div>
            </div>
            <!-- Announcements Widget -->
            <div
              class="bg-dhbw-panel p-4 rounded-lg border border-dhbw-border cursor-pointer hover:border-dhbw-red/60 transition-colors"
              onclick="parent?.showPage && parent.showPage('admin')"
              title="Admin / Ankündigungen öffnen"
            >
              <div class="flex justify-between items-center mb-3">
                <h3 class="text-base font-bold text-dhbw-text-primary">
                  Ankündigungen
                </h3>
              </div>
              <ul class="space-y-3">
                <li
                  class="p-2 -m-2 rounded-lg hover:bg-dhbw-focus cursor-pointer"
                >
                  <p class="text-xs text-dhbw-text-secondary">STUV Wahl Info</p>
                  <p class="text-dhbw-text-primary font-medium text-sm">
                    Die Kandidatenregistrierung ist jetzt bis zum 20. Mai
                    geöffnet.
                  </p>
                </li>
                <li
                  class="p-2 -m-2 rounded-lg hover:bg-dhbw-focus cursor-pointer"
                >
                  <p class="text-xs text-dhbw-text-secondary">Campus Admin</p>
                  <p class="text-dhbw-text-primary font-medium text-sm">
                    Die Bibliothek bleibt diesen Samstag wegen Wartungsarbeiten
                    geschlossen.
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </main>
    </div>
  </body>
<script>
  // Simple hardcoded switching for Mensa widget (Heute / Mi / Do)
  (function(){
    const DATA = {
      heute: [
        { title: 'Schnitzel "Wiener Art"', desc: 'mit Pommes', price: '€5.20' },
        { title: 'Pasta al Pesto', desc: 'Vegan', price: '€4.50' },
        { title: 'Currywurst', desc: 'mit Brot', price: '€3.80' },
      ],
      mi: [
        { title: 'Schnitzel "Wiener Art"', desc: 'mit Pommes Frites', price: '€5.20' },
        { title: 'Kichererbsen-Curry', desc: 'mit Basmatireis', price: '€4.20' },
        { title: 'Beilagensalat', desc: 'klein', price: '€0.80' },
      ],
      do: [
        { title: 'Rindergulasch', desc: 'mit Spätzle', price: '€6.10' },
        { title: 'Gemüsepfanne', desc: 'mit Reis (vegan)', price: '€4.90' },
        { title: 'Pommes Frites', desc: '', price: '€1.80' },
      ]
    };
    function render(items){
      return items.map(it => `
        <div class="flex justify-between items-center">
          <div>
            <p class="text-dhbw-text-primary text-sm">${it.title}</p>
            ${it.desc ? `<p class="text-dhbw-text-secondary text-xs">${it.desc}</p>` : ''}
          </div>
          <p class="text-dhbw-text-primary font-medium text-sm">${it.price}</p>
        </div>
      `).join('');
    }
    function setDay(day){
      const list = document.getElementById('mensa-widget-list');
      if (!list || !DATA[day]) return;
      list.innerHTML = render(DATA[day]);
      document.querySelectorAll('.mensa-mini-day').forEach(btn => {
        const isActive = btn.getAttribute('data-day') === day;
        btn.setAttribute('aria-pressed', isActive ? 'true' : 'false');
        btn.classList.toggle('bg-dhbw-red', isActive);
        btn.classList.toggle('text-dhbw-text-primary', isActive);
        btn.classList.toggle('text-dhbw-text-secondary', !isActive);
      });
    }
    document.querySelectorAll('.mensa-mini-day').forEach(btn => {
      btn.addEventListener('click', (ev) => {
        ev.stopPropagation(); // prevent navigating to Mensa page
        setDay(btn.getAttribute('data-day'));
      });
    });
    // init
    setDay('heute');
  })();
</script>
</html>
